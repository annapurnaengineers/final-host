<div class="form-row parent">
  <div class="col-md-4" fxFlex="40%">
    <mat-form-field style="text-align:center;text-decoration: black;">
      <input matInput type="text" style="color:purple;" (keyup)="doFilter($event.target.value)" placeholder="Filter">
    </mat-form-field>
  </div>
  <div class="col-md-4" style="margin-left: -130px !important; margin-right: 60px;">
    <select formControlName="clientname" class="form-control" (change)="changedvalue1($event)" required>
      <option value="" disabled selected>Select Client</option>
      <option>Choose Client</option>
      <option *ngFor="let cat of clientlist ">{{cat._id.clientname}}</option>
    </select>
  </div>






<div>
  <button mat-button style="color:#ffffff;background-color:#003366; " (click)="openModal0()">Add Scrap</button>
  &nbsp;&nbsp;&nbsp;
  <button mat-button style="color:#ffffff;background-color:#003366;" (click)="openModal1()">Add Client DC</button>
  &nbsp;&nbsp;&nbsp;
  <button mat-button style="color:#ffffff;background-color:#003366; " (click)="ExportTOExcel()">
    <mat-icon style="margin-right: 10px;">get_app</mat-icon>Export
  </button>
</div>


</div>

 <!-- <div style="display:inline;clear: both;">
  <h3>{{clientadvacnepaid}}</h3>
 <h3>{{clientbalancetobepaid}}</h3>
<h3> {{clienttotalbill}}</h3>
</div> -->

<article>
  <section> Total Amount Received : Rs {{clientadvacnepaid}}</section>
  <section>Total Balance  : Rs{{currentbalance}} </section>
  <section> Total Transaction : Rs {{clienttotalbill}}</section>
  <!-- <section>{{clientbalancetobepaid}}</section> -->
</article>
<div class=" test mat-elevation-z9">


  <mat-table class="lessons-table mat-elevation-z8" [dataSource]="patientdatasource" matSort matSortStart="desc">
   
    <ng-container matColumnDef="sno">
      <mat-header-cell *matHeaderCellDef mat-sort-header>S.No</mat-header-cell>
      <mat-cell *matCellDef="let lesson;let i = index">{{ i + 1 }}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="dcid">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Dc No</mat-header-cell>
      <mat-cell *matCellDef="let lesson">{{lesson.dcid}}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="invoiceid">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Invoice No</mat-header-cell>
      <mat-cell *matCellDef="let lesson">{{lesson.invoiceid}}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="clientname">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Client Name</mat-header-cell>
      <mat-cell *matCellDef="let lesson" style="text-indent: 10px;">{{lesson.clientname}}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="balanceamount">
      <mat-header-cell *matHeaderCellDef mat-sort-header>To Be Paid</mat-header-cell>
      <mat-cell *matCellDef="let lesson" style="text-indent: 20px;">{{lesson.balanceamount}}</mat-cell>
      <mat-footer-cell *matFooterCellDef="let lesson">  {{clientbalancetobepaid}} </mat-footer-cell>
    </ng-container>
    <ng-container matColumnDef="advancegot">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Amount Received</mat-header-cell>
      <mat-cell *matCellDef="let lesson" style="text-indent: 30px;">{{lesson.advancegot}}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="finalinvoicebill">
      <mat-header-cell *matHeaderCellDef mat-sort-header style="text-indent: 20px;">Total Bill</mat-header-cell>
      <mat-cell *matCellDef="let lesson" style="text-indent: 45px;">{{lesson.finalinvoicebill}}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="totalproductstaken">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Products Count</mat-header-cell>
      <mat-cell *matCellDef="let lesson" style="text-indent: 45px;">{{lesson.totalproductstaken}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="createddate">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Created Date</mat-header-cell>
      <mat-cell *matCellDef="let lesson" style="text-indent: 30px;">{{lesson.createddate | date : 'longDate'}}
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="lastupdated">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Last Updated</mat-header-cell>
      <mat-cell *matCellDef="let lesson" style="text-indent: 30px;">{{lesson.lastupdated | date : 'longDate'}}
      </mat-cell>
    </ng-container>
 
    <ng-container matColumnDef="actions" >
      <th mat-header-cell *matHeaderCellDef  > Actions </th>
      <td mat-cell *matCellDef="let lesson">
        <!-- <button mat-button >Edit</button> -->
        <button mat-icon-button color="warn" matTooltip="Edit" matTooltipPosition="above" (click)="openModal(lesson)">
          <mat-icon>more_vert</mat-icon>
        </button>
        <button mat-icon-button color="warn" matTooltip="Delete" matTooltipPosition="above" 
          (click)="deleteUser(lesson._id,lesson.productname)">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    

    </ng-container>
 

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    <!-- <mat-footer-row *matFooterRowDef=" let row; columns:displayedColumns; sticky: true"></mat-footer-row> -->
    

  </mat-table>
 
  <!-- <mat-paginator #scheduledOrdersPaginator [pageSizeOptions]="[15, 25, 35]" showFirstLastButtons></mat-paginator> -->
 

  <!-- <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page)="setPageSizeOptions($event)">
  </mat-paginator> -->

  <ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#1863c5" type="square-jelly-box" [fullScreen]="true">
    <p style="color: white"> Loading... </p>
  </ngx-spinner>
 
</div>
<div class=" test  mat-elevation-z9">
  <mat-table class="lessons-table mat-elevation-z8" [dataSource]="patientdatasource1" matSort  matSortDirection="asc">
    <ng-container matColumnDef="sno">
      <mat-header-cell *matHeaderCellDef mat-sort-header>S.No</mat-header-cell>
      <mat-cell *matCellDef="let lesson;let i = index">{{ i + 1 }}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="invoiceid">
      <mat-header-cell *matHeaderCellDef mat-sort-header style="align-items: center;" >Invoice No</mat-header-cell>
      <mat-cell  *matCellDef="let lesson" style="text-align: center;">{{lesson.invoiceid}}</mat-cell>  
  </ng-container>
    <ng-container matColumnDef="productname">
      <mat-header-cell *matHeaderCellDef mat-sort-header style="align-items: center;" >Item</mat-header-cell>
      <mat-cell  *matCellDef="let lesson" style="text-align: center;">{{lesson.productname}}</mat-cell>  
  </ng-container>
  <ng-container matColumnDef="clientprice">
    <mat-header-cell *matHeaderCellDef mat-sort-header >Price Per Item</mat-header-cell>
    <mat-cell  *matCellDef="let lesson">{{lesson.clientprice}}</mat-cell>  
</ng-container>
  <ng-container matColumnDef="quantity">
    <mat-header-cell *matHeaderCellDef mat-sort-header  > Quantity</mat-header-cell>
    <mat-cell  *matCellDef="let lesson" >{{lesson.quantity}}</mat-cell>
  </ng-container>
 
<ng-container matColumnDef="finalbill">
  <mat-header-cell *matHeaderCellDef mat-sort-header  > Total</mat-header-cell>
  <mat-cell  *matCellDef="let lesson" >{{lesson.finalbill}}</mat-cell>
</ng-container>
<ng-container matColumnDef="createddate">
  <mat-header-cell *matHeaderCellDef mat-sort-header>Order Date</mat-header-cell>
  <mat-cell *matCellDef="let lesson" style="text-indent: 30px;">{{lesson.createddate | date : 'longDate'}}
  </mat-cell>
</ng-container>
    <mat-header-row *matHeaderRowDef="displayedColumns1" style="justify-self: start;;"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns1" ></mat-row>
  </mat-table>





</div>